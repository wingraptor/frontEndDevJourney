# Iterating through Arrays/Array Methods

Iterating through an array allows us to do something with each item in an array. There are a couple ways of doing this but both involves loops.

----------

### Example: Using for Loops

```js
for(var i = 0; i < arr.length; i++){
    console.log(arr[i[);
}

```

Items are logged index by index until i = (length of array - 1), that is i is less than array.length

---

## [[Array.forEach()]]

---

## map Method

https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/map

This method allows us to perform a callback function on each element in an array and return the modified values in a new array of the same length. The old array is not modified unless we explicitly write an expression to do so.

**### Syntax**

```js
arr.map(function(el,i,arr){
	return something;
});
```

**### Example**

```js
var oldArray = [1, 2, 3];  
var timesFour = oldArray.map(function(val){  
return val * 4;  
});  
console.log(timesFour); // returns [4, 8, 12]  
console.log(oldArray); // returns [1, 2, 3]
```
Unlike forEach method which only returns undefined, the map method returns the array with modified elements. 

## reduce Method

The reduce method allows us to iterate through an array and return a single value. For example this allows us to subtract or add all elements in an array from to each other. The reduce method takes two arguments, one being a callback which itself takes up to four arguments and the other being an optional intialValue. The initialValue parameter determines the first argument used in the first call of the callback, if not given it defaults to the first elements in the array. 

The first time the callback is called, `accumulator` and `currentValue` can be one of two values. If `initialValue` is provided in the call to `reduce()`, then `accumulator` will be equal to `initialValue`, and `currentValue` will be equal to the first value in the array. If no `initialValue` is provided, then `accumulator` will be equal to the first value in the array, and `currentValue` will be equal to the second

The callback arguments are: 

-  **accumulator**: The accumulator accumulates the callback's return values. This is the value generated by the last call of the callback function itself or on the first invocation of the callback function, it can either be the first element in the array or the specified initial value.
- **currentValue**: The value being processed in the array.
- **currentIndex(optional)**: the index of the value being processed, starting index 0 if no intialValue is given, or 1 otherwise.
- **array(optional)**: the array that the reduce function was called on.

The second argument of the reduce method is the **initialValue** . This just determines the initial value of the accumulator.

**### Syntax**

```js
arr.reduce(callBackFunction(accumulator, currentValue, currentIndex, array){
	doSomething;
},initialValue);
```

**### Example**

```js
var oldArray = [10,9,8];

var newArray = oldArray.reduce(function(accumulator, currentValue){
	return accumulator + currentValue;
});

console.log(newArray); // logs [27]

var newArray = oldArray.reduce(function(accumulator, currentValue){
	return accumulator + currentValue;
}, 1);

console.logo(newArray); // logs 28 to the console as the initialValue is now 1, i.e. accumulator now starts with a value of 1 => 1+10+9+8.
```
&nbsp;

When using the reduce method on an array of objects, we need to declare and pass an initial value as an argument. Typically we can declare the initialValue as 0, without this we cannot return a value.


## filter Method
This method allows us to return a new array which contains elements that pass some form of condition.

**Syntax**
```js
const newArr = array.filter(function(element){
	return conditionalStatement;
});

//ES6 Script
const new Arr = array.filter(element => conditionalStatement);
```
&nbsp;

**Example**

```js
var words = ['spray', 'limit', 'elite', 'exuberant', 'destruction', 'present'];

const result = words.filter(function(word){
	return word.length > 6;
});

//ES6 Script
const result = words.filter(word => word.length > 6);

console.log(result);
// expected output: Array ["exuberant", "destruction", "present"]

```

## sort Method
This method allows us to sort the elements in an array in place and return the array. By default the sort method will sort elements in ascending order according to their unicode value. That is, an array of `[90, 8, 100]` sorts to `[100, 8, 90]` because the unicode values of these three numbers increases from 100, 8 to 90. We can pass a compare function as a callback which allows us to control the sort order and to accurately sort numbers.

The compareFunction takes two arguments, a and b which refer to the elements in the array, i^th^ and i+1^th^ respectively. Depending on the value that the compare function returns, a and b are sorted accordingly. The return value should be the difference between a and b, and depending on whether it is greater than, less then or equal to 0:
1. element a is placed before element b (return value is less than 0)
2. element b is placed before element a (return value is greater than 0)
3.  No change is made to the order (return value is 0)

```js
// Sorts array in ascending order
array.sort(function(a,b){
	return a - b;
}

// Sorts array in descending order
array.sort(function(a,b){
	return b - a;
}
```
&nbsp;

For ascending order (a - b): a -b can only give a number less than 0, if a is less than b. When the return value is less than 0, then a is placed before b in the returned array, i.e. the elements are placed in ascending order.

For descending order(b - a): if b - a gives a number greater than 0, this must mean that b is a bigger number than a. In this case, b is placed before a in the returned array, i.e. the elements are placed in descending order.

**NOTE**: when sorting an array of objects according to a property in the objects, we can use dot notation on the a and b arguments to sort the array.

**Example**

```js
var items = [
  { name: 'Edward', value: 21 },
  { name: 'Sharpe', value: 37 },
  { name: 'And', value: 45 },
  { name: 'The', value: -12 },
  { name: 'Magnetic', value: 13 },
  { name: 'Zeros', value: 37 }
];

// sort by value
items.sort(function (a, b) {
  return a.value - b.value;
});
```
&nbsp;

Alternatively, we can use if statements in order to sort:

```js
    inventors.sort(function(a,b){
      if(a.year > b.year){
        return 1;
      } else {
        return -1;
      }
    });
```

## Building Our Own forEach Method.

1.  Define a function which takes two arguments: an array and a function:
    
    ```
    function myForEach(arr,func){}
    
    ```
    
2.  Loop through the array for each element and call func for each element:
    

```js
function myForEach(arr,func){
    for(var i = 0; i <arr.length; i++){
        func();
    }
}

var colors = ["orange", "green"];

myForEach(colors,alert);

//3 alerts are producted, one for each elementin the aray. Note that because the alert method
```

> Written with [StackEdit](https://stackedit.io/).
